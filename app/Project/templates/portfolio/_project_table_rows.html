{% load heroicons %}
{% for data in dashboard_data %}
    <tr class="hover:bg-gray-50">
        <td class="px-6 py-4 whitespace-nowrap">
            <div class="text-sm font-medium text-gray-900">
                <a href="{% url 'project:project-dashboard' data.project.pk %}"
                   class="hover:text-indigo-600 transition-colors">{{ data.project.name|title }}</a>
            </div>
            <div class="text-xs text-gray-500">{{ data.project.client.name|default:"No Client" }}</div>
        </td>
        <td class="px-6 py-4 whitespace-nowrap">
            {% if data.project.category %}
                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800">
                    {{ data.project.category.name }}
                </span>
            {% else %}
                <span class="text-sm text-gray-400">--</span>
            {% endif %}
        </td>
        <td class="px-6 py-4 whitespace-nowrap">
            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium {% if data.project.status == 'ACTIVE' %}bg-green-100 text-green-800 {% elif data.project.status == 'SETUP' %}bg-yellow-100 text-yellow-800 {% elif data.project.status == 'FINAL_ACCOUNT_ISSUED' %}bg-blue-100 text-blue-800 {% else %}bg-gray-100 text-gray-800{% endif %}">
                {{ data.project.get_status_display }}
            </span>
        </td>
        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
            <a href="{% url 'project:project-management' data.project.id %}"
               class="inline-flex items-center px-3 py-1.5 border border-indigo-300 rounded-md text-sm font-medium text-indigo-700 bg-indigo-50 hover:bg-indigo-100 transition-colors"
               title="Manage project">
                {% heroicon_outline "cog-6-tooth" size="16" class="mr-1" %}
                Manage
            </a>
        </td>
    </tr>
{% empty %}
    <tr>
        <td colspan="4" class="px-6 py-12 text-center">
            <div class="flex flex-col items-center">
                {% heroicon_outline "folder-plus" size="48" class="text-gray-300 mb-4" %}
                <p class="text-sm text-gray-500 mb-4">No projects found</p>
                <a href="{% url 'project:project-create' %}"
                   class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                    {% heroicon_outline "plus" size="16" class="mr-2" %}
                    Create Your First Project
                </a>
            </div>
        </td>
    </tr>
{% endfor %}
